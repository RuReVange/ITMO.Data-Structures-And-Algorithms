<div class="task-content"><h2>Высота дерева</h2><div class="task-text-block"><p>Высотой дерева называется максимальное число вершин дерева в цепочке, начинающейся в корне дерева, заканчивающейся в одном из его листьев, и не содержащей никакую вершину дважды.</p>
<p>Так, высота дерева, состоящего из единственной вершины, равна единице. Высота пустого дерева (да, бывает и такое!) равна нулю.</p>
<p>Дано двоичное дерево поиска. В вершинах этого дерева записаны ключи - целые числа, по абсолютному значению не превышающие <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn><msup><mn>0</mn><mn>9</mn></msup></mrow><annotation encoding="application/x-tex">10^9</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.8141em;"></span><span class="mord">1</span><span class="mord"><span class="mord">0</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height: 0.8141em;"><span style="top: -3.063em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">9</span></span></span></span></span></span></span></span></span></span></span></span>. Для каждой вершины дерева <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>V</mi></mrow><annotation encoding="application/x-tex">V</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord mathnormal" style="margin-right: 0.22222em;">V</span></span></span></span></span> выполняется следующее условие:</p>
<ul>
<li>все ключи вершин из левого поддерева меньше ключа вершины <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>V</mi></mrow><annotation encoding="application/x-tex">V</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord mathnormal" style="margin-right: 0.22222em;">V</span></span></span></span></span>;</li>
<li>все ключи вершин из правого поддерева больше ключа вершины <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>V</mi></mrow><annotation encoding="application/x-tex">V</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord mathnormal" style="margin-right: 0.22222em;">V</span></span></span></span></span> .</li>
</ul>
<p>Найдите высоту данного дерева.</p></div><div class="task-text-block"><p class="task-category-header">Входные данные</p><p>Входные данные содержат описание двоичного дерева.</p>
<p>В первой строке находится число N (0 &lt;= N &lt;= 200000) - число вершин в дереве.</p>
<p>В последующих N строках находятся описания вершин дерева.</p>
<p>В (<span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>i</mi><mo>+</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">i + 1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.7429em; vertical-align: -0.0833em;"></span><span class="mord mathnormal">i</span><span class="mspace" style="margin-right: 0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right: 0.2222em;"></span></span><span class="base"><span class="strut" style="height: 0.6444em;"></span><span class="mord">1</span></span></span></span></span>)-ой строке (<span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn><mo>≤</mo><mi>i</mi><mo>≤</mo><mi>n</mi></mrow><annotation encoding="application/x-tex">1 \le i \le n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.7804em; vertical-align: -0.136em;"></span><span class="mord">1</span><span class="mspace" style="margin-right: 0.2778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right: 0.2778em;"></span></span><span class="base"><span class="strut" style="height: 0.7955em; vertical-align: -0.136em;"></span><span class="mord mathnormal">i</span><span class="mspace" style="margin-right: 0.2778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right: 0.2778em;"></span></span><span class="base"><span class="strut" style="height: 0.4306em;"></span><span class="mord mathnormal">n</span></span></span></span></span>) находится описание <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>i</mi></mrow><annotation encoding="application/x-tex">i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.6595em;"></span><span class="mord mathnormal">i</span></span></span></span></span>-ой вершины, состоящее из трех чисел <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>K</mi><mi>i</mi></msub><mo separator="true">,</mo><msub><mi>L</mi><mi>i</mi></msub><mo separator="true">,</mo><msub><mi>R</mi><mi>i</mi></msub></mrow><annotation encoding="application/x-tex">K_i, L_i, R_i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.8778em; vertical-align: -0.1944em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right: 0.07153em;">K</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.3117em;"><span style="top: -2.55em; margin-left: -0.0715em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right: 0.1667em;"></span><span class="mord"><span class="mord mathnormal">L</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.3117em;"><span style="top: -2.55em; margin-left: 0em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right: 0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right: 0.00773em;">R</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.3117em;"><span style="top: -2.55em; margin-left: -0.0077em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em;"><span></span></span></span></span></span></span></span></span></span></span>, разделенных пробелами - ключа в <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>i</mi></mrow><annotation encoding="application/x-tex">i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.6595em;"></span><span class="mord mathnormal">i</span></span></span></span></span>-ой вершине (<span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">∣</mi><msub><mi>K</mi><mi>i</mi></msub><mi mathvariant="normal">∣</mi><mo>&lt;</mo><mo>=</mo><mn>1</mn><msup><mn>0</mn><mn>9</mn></msup></mrow><annotation encoding="application/x-tex">|K_i| &lt;= 10^9</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord">∣</span><span class="mord"><span class="mord mathnormal" style="margin-right: 0.07153em;">K</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.3117em;"><span style="top: -2.55em; margin-left: -0.0715em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em;"><span></span></span></span></span></span></span><span class="mord">∣</span><span class="mspace" style="margin-right: 0.2778em;"></span><span class="mrel">&lt;=</span><span class="mspace" style="margin-right: 0.2778em;"></span></span><span class="base"><span class="strut" style="height: 0.8141em;"></span><span class="mord">1</span><span class="mord"><span class="mord">0</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height: 0.8141em;"><span style="top: -3.063em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">9</span></span></span></span></span></span></span></span></span></span></span></span>), номера левого
ребенка <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>i</mi></mrow><annotation encoding="application/x-tex">i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.6595em;"></span><span class="mord mathnormal">i</span></span></span></span></span>-ой вершины (<span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>i</mi><mo>&lt;</mo><msub><mi>L</mi><mi>i</mi></msub><mo>&lt;</mo><mo>=</mo><mi>N</mi></mrow><annotation encoding="application/x-tex">i &lt; L_i &lt;= N</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.6986em; vertical-align: -0.0391em;"></span><span class="mord mathnormal">i</span><span class="mspace" style="margin-right: 0.2778em;"></span><span class="mrel">&lt;</span><span class="mspace" style="margin-right: 0.2778em;"></span></span><span class="base"><span class="strut" style="height: 0.8333em; vertical-align: -0.15em;"></span><span class="mord"><span class="mord mathnormal">L</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.3117em;"><span style="top: -2.55em; margin-left: 0em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right: 0.2778em;"></span><span class="mrel">&lt;=</span><span class="mspace" style="margin-right: 0.2778em;"></span></span><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord mathnormal" style="margin-right: 0.10903em;">N</span></span></span></span></span> или <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>L</mi><mi>i</mi></msub><mo>=</mo><mn>0</mn></mrow><annotation encoding="application/x-tex">L_i = 0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.8333em; vertical-align: -0.15em;"></span><span class="mord"><span class="mord mathnormal">L</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.3117em;"><span style="top: -2.55em; margin-left: 0em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right: 0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.2778em;"></span></span><span class="base"><span class="strut" style="height: 0.6444em;"></span><span class="mord">0</span></span></span></span></span>, если левого ребенка нет) и номера правого ребенка <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>i</mi></mrow><annotation encoding="application/x-tex">i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.6595em;"></span><span class="mord mathnormal">i</span></span></span></span></span>-ой вершины (<span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>i</mi><mo>&lt;</mo><msub><mi>R</mi><mi>i</mi></msub><mo>&lt;</mo><mo>=</mo><mi>N</mi></mrow><annotation encoding="application/x-tex">i &lt; R_i &lt;= N</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.6986em; vertical-align: -0.0391em;"></span><span class="mord mathnormal">i</span><span class="mspace" style="margin-right: 0.2778em;"></span><span class="mrel">&lt;</span><span class="mspace" style="margin-right: 0.2778em;"></span></span><span class="base"><span class="strut" style="height: 0.8333em; vertical-align: -0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right: 0.00773em;">R</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.3117em;"><span style="top: -2.55em; margin-left: -0.0077em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right: 0.2778em;"></span><span class="mrel">&lt;=</span><span class="mspace" style="margin-right: 0.2778em;"></span></span><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord mathnormal" style="margin-right: 0.10903em;">N</span></span></span></span></span> или <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>R</mi><mi>i</mi></msub><mo>=</mo><mn>0</mn></mrow><annotation encoding="application/x-tex">R_i = 0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.8333em; vertical-align: -0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right: 0.00773em;">R</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.3117em;"><span style="top: -2.55em; margin-left: -0.0077em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right: 0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.2778em;"></span></span><span class="base"><span class="strut" style="height: 0.6444em;"></span><span class="mord">0</span></span></span></span></span>, если правого ребенка нет).</p>
<p>Все ключи различны. Гарантируется, что данное дерево является деревом поиска.</p></div><div class="task-text-block"><p class="task-category-header">Выходные данные</p><p>Выведите одно целое число - высоту дерева.</p></div><div class="task-text-block"><table cellspacing="0" style="border-collapse: separate; border-spacing: 0px 12px;"><tbody><tr class="subtask-header"><td>STDIN</td><td style="padding-left: 10px;">STDOUT</td></tr><tr class="samples-item"><td class="sample-cell-scrollable"><div><pre>6
-2 0 2
8 4 3
9 0 0
3 5 6
0 0 0
6 0 0</pre><button class="samples-copy-button"><svg width="18" height="18" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M2.6998 12.5998L2.80476 12.5937C3.21794 12.5458 3.54576 12.2179 3.59375 11.8048L3.5998 11.6998V3.5998H11.6998L11.8048 3.59375C12.2524 3.54176 12.5998 3.16136 12.5998 2.6998C12.5998 2.23825 12.2524 1.85785 11.8048 1.80586L11.6998 1.7998H2.6998L2.59485 1.80586C2.18167 1.85385 1.85385 2.18167 1.80586 2.59485L1.7998 2.6998V11.6998L1.80586 11.8048C1.85385 12.2179 2.18167 12.5458 2.59485 12.5937L2.6998 12.5998ZM15.2998 16.1998L15.4048 16.1937C15.8179 16.1458 16.1458 15.8179 16.1937 15.4048L16.1998 15.2998V6.2998L16.1937 6.19485C16.1498 5.8161 15.8706 5.50908 15.5062 5.42357L15.4048 5.40586L15.2998 5.3998H6.2998L6.19485 5.40586C5.78167 5.45385 5.45385 5.78167 5.40586 6.19485L5.3998 6.2998V15.2998L5.40586 15.4048C5.44985 15.7835 5.72898 16.0905 6.09344 16.176L6.19485 16.1937L6.2998 16.1998H15.2998ZM7.1998 7.1998V14.3998H14.3998V7.1998H7.1998Z"></path></svg></button></div></td><td class="sample-cell-scrollable"><div><pre>4</pre><button class="samples-copy-button"><svg width="18" height="18" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M2.6998 12.5998L2.80476 12.5937C3.21794 12.5458 3.54576 12.2179 3.59375 11.8048L3.5998 11.6998V3.5998H11.6998L11.8048 3.59375C12.2524 3.54176 12.5998 3.16136 12.5998 2.6998C12.5998 2.23825 12.2524 1.85785 11.8048 1.80586L11.6998 1.7998H2.6998L2.59485 1.80586C2.18167 1.85385 1.85385 2.18167 1.80586 2.59485L1.7998 2.6998V11.6998L1.80586 11.8048C1.85385 12.2179 2.18167 12.5458 2.59485 12.5937L2.6998 12.5998ZM15.2998 16.1998L15.4048 16.1937C15.8179 16.1458 16.1458 15.8179 16.1937 15.4048L16.1998 15.2998V6.2998L16.1937 6.19485C16.1498 5.8161 15.8706 5.50908 15.5062 5.42357L15.4048 5.40586L15.2998 5.3998H6.2998L6.19485 5.40586C5.78167 5.45385 5.45385 5.78167 5.40586 6.19485L5.3998 6.2998V15.2998L5.40586 15.4048C5.44985 15.7835 5.72898 16.0905 6.09344 16.176L6.19485 16.1937L6.2998 16.1998H15.2998ZM7.1998 7.1998V14.3998H14.3998V7.1998H7.1998Z"></path></svg></button></div></td></tr></tbody></table></div><div class="contest-submit-blocker">

<div class="task-content"><h2>Проверка корректности</h2><div class="task-text-block"><p>Свойство двоичного дерева поиска можно сормулировать следующим образом: для каждой вершины дерева <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>V</mi></mrow><annotation encoding="application/x-tex">V</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord mathnormal" style="margin-right: 0.22222em;">V</span></span></span></span></span> выполняется следующее условие:</p>
<ul>
<li>все ключи вершин из левого поддерева меньше ключа вершины <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>V</mi></mrow><annotation encoding="application/x-tex">V</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord mathnormal" style="margin-right: 0.22222em;">V</span></span></span></span></span> ;</li>
<li>все ключи вершин из правого поддерева больше ключа вершины <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>V</mi></mrow><annotation encoding="application/x-tex">V</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord mathnormal" style="margin-right: 0.22222em;">V</span></span></span></span></span>.</li>
</ul>
<p>Дано двоичное дерево. Проверьте, выполняется ли для него свойство двоичного дерева поиска.</p></div><div class="task-text-block"><p class="task-category-header">Входные данные</p><p>В первой строке находится число <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.4306em;"></span><span class="mord mathnormal">n</span></span></span></span></span> (<span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>0</mn><mo>≤</mo><mi>n</mi><mo>≤</mo><mn>200000</mn></mrow><annotation encoding="application/x-tex">0 \le n \le 200000</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.7804em; vertical-align: -0.136em;"></span><span class="mord">0</span><span class="mspace" style="margin-right: 0.2778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right: 0.2778em;"></span></span><span class="base"><span class="strut" style="height: 0.7719em; vertical-align: -0.136em;"></span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right: 0.2778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right: 0.2778em;"></span></span><span class="base"><span class="strut" style="height: 0.6444em;"></span><span class="mord">200000</span></span></span></span></span>) - число вершин в дереве.</p>
<p>В последующих <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.4306em;"></span><span class="mord mathnormal">n</span></span></span></span></span> строках находятся описания вершин дерева. В (<span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>i</mi><mo>+</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">i + 1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.7429em; vertical-align: -0.0833em;"></span><span class="mord mathnormal">i</span><span class="mspace" style="margin-right: 0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right: 0.2222em;"></span></span><span class="base"><span class="strut" style="height: 0.6444em;"></span><span class="mord">1</span></span></span></span></span>)-ой строке айла (<span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn><mo>≤</mo><mi>i</mi><mo>≤</mo><mi>N</mi></mrow><annotation encoding="application/x-tex">1 \le i \le N</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.7804em; vertical-align: -0.136em;"></span><span class="mord">1</span><span class="mspace" style="margin-right: 0.2778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right: 0.2778em;"></span></span><span class="base"><span class="strut" style="height: 0.7955em; vertical-align: -0.136em;"></span><span class="mord mathnormal">i</span><span class="mspace" style="margin-right: 0.2778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right: 0.2778em;"></span></span><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord mathnormal" style="margin-right: 0.10903em;">N</span></span></span></span></span>) находится описание <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>i</mi></mrow><annotation encoding="application/x-tex">i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.6595em;"></span><span class="mord mathnormal">i</span></span></span></span></span>-ой вершины, состоящее
из трех чисел <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>K</mi><mi>i</mi></msub><mo separator="true">,</mo><msub><mi>L</mi><mi>i</mi></msub><mo separator="true">,</mo><msub><mi>R</mi><mi>i</mi></msub></mrow><annotation encoding="application/x-tex">K_i, L_i, R_i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.8778em; vertical-align: -0.1944em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right: 0.07153em;">K</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.3117em;"><span style="top: -2.55em; margin-left: -0.0715em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right: 0.1667em;"></span><span class="mord"><span class="mord mathnormal">L</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.3117em;"><span style="top: -2.55em; margin-left: 0em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right: 0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right: 0.00773em;">R</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.3117em;"><span style="top: -2.55em; margin-left: -0.0077em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em;"><span></span></span></span></span></span></span></span></span></span></span>, разделенных пробелами - ключа в <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>i</mi></mrow><annotation encoding="application/x-tex">i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.6595em;"></span><span class="mord mathnormal">i</span></span></span></span></span>-ой вершине (<span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">∣</mi><msub><mi>K</mi><mi>i</mi></msub><mi mathvariant="normal">∣</mi><mo>≤</mo><mn>1</mn><msup><mn>0</mn><mn>9</mn></msup></mrow><annotation encoding="application/x-tex">|K_i| \le 10^9</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord">∣</span><span class="mord"><span class="mord mathnormal" style="margin-right: 0.07153em;">K</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.3117em;"><span style="top: -2.55em; margin-left: -0.0715em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em;"><span></span></span></span></span></span></span><span class="mord">∣</span><span class="mspace" style="margin-right: 0.2778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right: 0.2778em;"></span></span><span class="base"><span class="strut" style="height: 0.8141em;"></span><span class="mord">1</span><span class="mord"><span class="mord">0</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height: 0.8141em;"><span style="top: -3.063em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">9</span></span></span></span></span></span></span></span></span></span></span></span>), номера левого ребенка <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>i</mi></mrow><annotation encoding="application/x-tex">i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.6595em;"></span><span class="mord mathnormal">i</span></span></span></span></span>-ой вершины (<span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>i</mi><mo>&lt;</mo><msub><mi>L</mi><mi>i</mi></msub><mo>≤</mo><mi>N</mi></mrow><annotation encoding="application/x-tex">i &lt; L_i \le N</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.6986em; vertical-align: -0.0391em;"></span><span class="mord mathnormal">i</span><span class="mspace" style="margin-right: 0.2778em;"></span><span class="mrel">&lt;</span><span class="mspace" style="margin-right: 0.2778em;"></span></span><span class="base"><span class="strut" style="height: 0.8333em; vertical-align: -0.15em;"></span><span class="mord"><span class="mord mathnormal">L</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.3117em;"><span style="top: -2.55em; margin-left: 0em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right: 0.2778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right: 0.2778em;"></span></span><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord mathnormal" style="margin-right: 0.10903em;">N</span></span></span></span></span> или <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>L</mi><mi>i</mi></msub><mo>=</mo><mn>0</mn></mrow><annotation encoding="application/x-tex">L_i = 0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.8333em; vertical-align: -0.15em;"></span><span class="mord"><span class="mord mathnormal">L</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.3117em;"><span style="top: -2.55em; margin-left: 0em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right: 0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.2778em;"></span></span><span class="base"><span class="strut" style="height: 0.6444em;"></span><span class="mord">0</span></span></span></span></span>, если левого ребенка нет) и номера правого ребенка
<span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>i</mi></mrow><annotation encoding="application/x-tex">i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.6595em;"></span><span class="mord mathnormal">i</span></span></span></span></span>-ой вершины (<span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>i</mi><mo>&lt;</mo><msub><mi>R</mi><mi>i</mi></msub><mo>≤</mo><mi>n</mi></mrow><annotation encoding="application/x-tex">i &lt; R_i \le n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.6986em; vertical-align: -0.0391em;"></span><span class="mord mathnormal">i</span><span class="mspace" style="margin-right: 0.2778em;"></span><span class="mrel">&lt;</span><span class="mspace" style="margin-right: 0.2778em;"></span></span><span class="base"><span class="strut" style="height: 0.8333em; vertical-align: -0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right: 0.00773em;">R</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.3117em;"><span style="top: -2.55em; margin-left: -0.0077em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right: 0.2778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right: 0.2778em;"></span></span><span class="base"><span class="strut" style="height: 0.4306em;"></span><span class="mord mathnormal">n</span></span></span></span></span> или <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>R</mi><mi>i</mi></msub><mo>=</mo><mn>0</mn></mrow><annotation encoding="application/x-tex">R_i = 0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.8333em; vertical-align: -0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right: 0.00773em;">R</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.3117em;"><span style="top: -2.55em; margin-left: -0.0077em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right: 0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.2778em;"></span></span><span class="base"><span class="strut" style="height: 0.6444em;"></span><span class="mord">0</span></span></span></span></span>, если правого ребенка нет).</p></div><div class="task-text-block"><p class="task-category-header">Выходные данные</p><p>Выведите <code>YES</code>, если данное на входе дерево является двоичным деревом поиска, и <code>NO</code>, если
не является.</p></div><div class="task-text-block"><table cellspacing="0" style="border-collapse: separate; border-spacing: 0px 12px;"><tbody><tr class="subtask-header"><td>STDIN</td><td style="padding-left: 10px;">STDOUT</td></tr><tr class="samples-item"><td class="sample-cell-scrollable"><div><pre>6
-2 0 2
8 4 3
9 0 0
3 5 6
0 0 0
6 0 0</pre><button class="samples-copy-button"><svg width="18" height="18" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M2.6998 12.5998L2.80476 12.5937C3.21794 12.5458 3.54576 12.2179 3.59375 11.8048L3.5998 11.6998V3.5998H11.6998L11.8048 3.59375C12.2524 3.54176 12.5998 3.16136 12.5998 2.6998C12.5998 2.23825 12.2524 1.85785 11.8048 1.80586L11.6998 1.7998H2.6998L2.59485 1.80586C2.18167 1.85385 1.85385 2.18167 1.80586 2.59485L1.7998 2.6998V11.6998L1.80586 11.8048C1.85385 12.2179 2.18167 12.5458 2.59485 12.5937L2.6998 12.5998ZM15.2998 16.1998L15.4048 16.1937C15.8179 16.1458 16.1458 15.8179 16.1937 15.4048L16.1998 15.2998V6.2998L16.1937 6.19485C16.1498 5.8161 15.8706 5.50908 15.5062 5.42357L15.4048 5.40586L15.2998 5.3998H6.2998L6.19485 5.40586C5.78167 5.45385 5.45385 5.78167 5.40586 6.19485L5.3998 6.2998V15.2998L5.40586 15.4048C5.44985 15.7835 5.72898 16.0905 6.09344 16.176L6.19485 16.1937L6.2998 16.1998H15.2998ZM7.1998 7.1998V14.3998H14.3998V7.1998H7.1998Z"></path></svg></button></div></td><td class="sample-cell-scrollable"><div><pre>YES</pre><button class="samples-copy-button"><svg width="18" height="18" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M2.6998 12.5998L2.80476 12.5937C3.21794 12.5458 3.54576 12.2179 3.59375 11.8048L3.5998 11.6998V3.5998H11.6998L11.8048 3.59375C12.2524 3.54176 12.5998 3.16136 12.5998 2.6998C12.5998 2.23825 12.2524 1.85785 11.8048 1.80586L11.6998 1.7998H2.6998L2.59485 1.80586C2.18167 1.85385 1.85385 2.18167 1.80586 2.59485L1.7998 2.6998V11.6998L1.80586 11.8048C1.85385 12.2179 2.18167 12.5458 2.59485 12.5937L2.6998 12.5998ZM15.2998 16.1998L15.4048 16.1937C15.8179 16.1458 16.1458 15.8179 16.1937 15.4048L16.1998 15.2998V6.2998L16.1937 6.19485C16.1498 5.8161 15.8706 5.50908 15.5062 5.42357L15.4048 5.40586L15.2998 5.3998H6.2998L6.19485 5.40586C5.78167 5.45385 5.45385 5.78167 5.40586 6.19485L5.3998 6.2998V15.2998L5.40586 15.4048C5.44985 15.7835 5.72898 16.0905 6.09344 16.176L6.19485 16.1937L6.2998 16.1998H15.2998ZM7.1998 7.1998V14.3998H14.3998V7.1998H7.1998Z"></path></svg></button></div></td></tr><tr class="samples-item"><td class="sample-cell-scrollable"><div><pre>0</pre><button class="samples-copy-button"><svg width="18" height="18" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M2.6998 12.5998L2.80476 12.5937C3.21794 12.5458 3.54576 12.2179 3.59375 11.8048L3.5998 11.6998V3.5998H11.6998L11.8048 3.59375C12.2524 3.54176 12.5998 3.16136 12.5998 2.6998C12.5998 2.23825 12.2524 1.85785 11.8048 1.80586L11.6998 1.7998H2.6998L2.59485 1.80586C2.18167 1.85385 1.85385 2.18167 1.80586 2.59485L1.7998 2.6998V11.6998L1.80586 11.8048C1.85385 12.2179 2.18167 12.5458 2.59485 12.5937L2.6998 12.5998ZM15.2998 16.1998L15.4048 16.1937C15.8179 16.1458 16.1458 15.8179 16.1937 15.4048L16.1998 15.2998V6.2998L16.1937 6.19485C16.1498 5.8161 15.8706 5.50908 15.5062 5.42357L15.4048 5.40586L15.2998 5.3998H6.2998L6.19485 5.40586C5.78167 5.45385 5.45385 5.78167 5.40586 6.19485L5.3998 6.2998V15.2998L5.40586 15.4048C5.44985 15.7835 5.72898 16.0905 6.09344 16.176L6.19485 16.1937L6.2998 16.1998H15.2998ZM7.1998 7.1998V14.3998H14.3998V7.1998H7.1998Z"></path></svg></button></div></td><td class="sample-cell-scrollable"><div><pre>YES</pre><button class="samples-copy-button"><svg width="18" height="18" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M2.6998 12.5998L2.80476 12.5937C3.21794 12.5458 3.54576 12.2179 3.59375 11.8048L3.5998 11.6998V3.5998H11.6998L11.8048 3.59375C12.2524 3.54176 12.5998 3.16136 12.5998 2.6998C12.5998 2.23825 12.2524 1.85785 11.8048 1.80586L11.6998 1.7998H2.6998L2.59485 1.80586C2.18167 1.85385 1.85385 2.18167 1.80586 2.59485L1.7998 2.6998V11.6998L1.80586 11.8048C1.85385 12.2179 2.18167 12.5458 2.59485 12.5937L2.6998 12.5998ZM15.2998 16.1998L15.4048 16.1937C15.8179 16.1458 16.1458 15.8179 16.1937 15.4048L16.1998 15.2998V6.2998L16.1937 6.19485C16.1498 5.8161 15.8706 5.50908 15.5062 5.42357L15.4048 5.40586L15.2998 5.3998H6.2998L6.19485 5.40586C5.78167 5.45385 5.45385 5.78167 5.40586 6.19485L5.3998 6.2998V15.2998L5.40586 15.4048C5.44985 15.7835 5.72898 16.0905 6.09344 16.176L6.19485 16.1937L6.2998 16.1998H15.2998ZM7.1998 7.1998V14.3998H14.3998V7.1998H7.1998Z"></path></svg></button></div></td></tr><tr class="samples-item"><td class="sample-cell-scrollable"><div><pre>3
5 2 3
6 0 0
4 0 0</pre><button class="samples-copy-button"><svg width="18" height="18" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M2.6998 12.5998L2.80476 12.5937C3.21794 12.5458 3.54576 12.2179 3.59375 11.8048L3.5998 11.6998V3.5998H11.6998L11.8048 3.59375C12.2524 3.54176 12.5998 3.16136 12.5998 2.6998C12.5998 2.23825 12.2524 1.85785 11.8048 1.80586L11.6998 1.7998H2.6998L2.59485 1.80586C2.18167 1.85385 1.85385 2.18167 1.80586 2.59485L1.7998 2.6998V11.6998L1.80586 11.8048C1.85385 12.2179 2.18167 12.5458 2.59485 12.5937L2.6998 12.5998ZM15.2998 16.1998L15.4048 16.1937C15.8179 16.1458 16.1458 15.8179 16.1937 15.4048L16.1998 15.2998V6.2998L16.1937 6.19485C16.1498 5.8161 15.8706 5.50908 15.5062 5.42357L15.4048 5.40586L15.2998 5.3998H6.2998L6.19485 5.40586C5.78167 5.45385 5.45385 5.78167 5.40586 6.19485L5.3998 6.2998V15.2998L5.40586 15.4048C5.44985 15.7835 5.72898 16.0905 6.09344 16.176L6.19485 16.1937L6.2998 16.1998H15.2998ZM7.1998 7.1998V14.3998H14.3998V7.1998H7.1998Z"></path></svg></button></div></td><td class="sample-cell-scrollable"><div><pre>NO</pre><button class="samples-copy-button"><svg width="18" height="18" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M2.6998 12.5998L2.80476 12.5937C3.21794 12.5458 3.54576 12.2179 3.59375 11.8048L3.5998 11.6998V3.5998H11.6998L11.8048 3.59375C12.2524 3.54176 12.5998 3.16136 12.5998 2.6998C12.5998 2.23825 12.2524 1.85785 11.8048 1.80586L11.6998 1.7998H2.6998L2.59485 1.80586C2.18167 1.85385 1.85385 2.18167 1.80586 2.59485L1.7998 2.6998V11.6998L1.80586 11.8048C1.85385 12.2179 2.18167 12.5458 2.59485 12.5937L2.6998 12.5998ZM15.2998 16.1998L15.4048 16.1937C15.8179 16.1458 16.1458 15.8179 16.1937 15.4048L16.1998 15.2998V6.2998L16.1937 6.19485C16.1498 5.8161 15.8706 5.50908 15.5062 5.42357L15.4048 5.40586L15.2998 5.3998H6.2998L6.19485 5.40586C5.78167 5.45385 5.45385 5.78167 5.40586 6.19485L5.3998 6.2998V15.2998L5.40586 15.4048C5.44985 15.7835 5.72898 16.0905 6.09344 16.176L6.19485 16.1937L6.2998 16.1998H15.2998ZM7.1998 7.1998V14.3998H14.3998V7.1998H7.1998Z"></path></svg></button></div></td></tr></tbody></table></div><div class="task-text-block task-text-addition"><p class="task-category-header">Примечание</p><p>Решение данной задачи поможет Вам в дальнейшем проверять корректность построенных деревьев при отладке более сложных алгоритмов.</p></div><div class="contest-submit-blocker">

<div class="task-content"><h2>Заполнение дерева</h2><div class="task-text-block"><p>Дана структура бинарного дерева. Требуется заполнить её числами от <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn></mrow><annotation encoding="application/x-tex">1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.6444em;"></span><span class="mord">1</span></span></span></span></span> до <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.4306em;"></span><span class="mord mathnormal">n</span></span></span></span></span> так, чтобы получилось корректное бинарное дерево поиска.</p></div><div class="task-text-block"><p class="task-category-header">Входные данные</p><p>Входные данные содержат описание двоичного дерева.</p>
<p>В первой строке находится число <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.4306em;"></span><span class="mord mathnormal">n</span></span></span></span></span> (<span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn><mo>≤</mo><mi>n</mi><mo>≤</mo><mn>200000</mn></mrow><annotation encoding="application/x-tex">1 \le n \le 200000</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.7804em; vertical-align: -0.136em;"></span><span class="mord">1</span><span class="mspace" style="margin-right: 0.2778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right: 0.2778em;"></span></span><span class="base"><span class="strut" style="height: 0.7719em; vertical-align: -0.136em;"></span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right: 0.2778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right: 0.2778em;"></span></span><span class="base"><span class="strut" style="height: 0.6444em;"></span><span class="mord">200000</span></span></span></span></span>) - число вершин в дереве.</p>
<p>В последующих <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.4306em;"></span><span class="mord mathnormal">n</span></span></span></span></span> строках находятся описания вершин дерева.</p>
<p>В <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><mi>i</mi><mo>+</mo><mn>1</mn><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">(i+1)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mopen">(</span><span class="mord mathnormal">i</span><span class="mspace" style="margin-right: 0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right: 0.2222em;"></span></span><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord">1</span><span class="mclose">)</span></span></span></span></span>-й строке (<span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn><mo>≤</mo><mi>i</mi><mo>≤</mo><mi>n</mi></mrow><annotation encoding="application/x-tex">1 \le i \le n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.7804em; vertical-align: -0.136em;"></span><span class="mord">1</span><span class="mspace" style="margin-right: 0.2778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right: 0.2778em;"></span></span><span class="base"><span class="strut" style="height: 0.7955em; vertical-align: -0.136em;"></span><span class="mord mathnormal">i</span><span class="mspace" style="margin-right: 0.2778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right: 0.2778em;"></span></span><span class="base"><span class="strut" style="height: 0.4306em;"></span><span class="mord mathnormal">n</span></span></span></span></span>) находится описание <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>i</mi></mrow><annotation encoding="application/x-tex">i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.6595em;"></span><span class="mord mathnormal">i</span></span></span></span></span>-й вершины, состоящее из двух чисел
<span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>l</mi><mi>i</mi></msub></mrow><annotation encoding="application/x-tex">l_i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.8444em; vertical-align: -0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right: 0.01968em;">l</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.3117em;"><span style="top: -2.55em; margin-left: -0.0197em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em;"><span></span></span></span></span></span></span></span></span></span></span> и <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>r</mi><mi>i</mi></msub></mrow><annotation encoding="application/x-tex">r_i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.5806em; vertical-align: -0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right: 0.02778em;">r</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.3117em;"><span style="top: -2.55em; margin-left: -0.0278em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em;"><span></span></span></span></span></span></span></span></span></span></span>, разделённых пробелами -
номера левого ребенка <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>i</mi></mrow><annotation encoding="application/x-tex">i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.6595em;"></span><span class="mord mathnormal">i</span></span></span></span></span>-й вершины (<span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>i</mi><mo>&lt;</mo><msub><mi>l</mi><mi>i</mi></msub><mo>≤</mo><mi>n</mi></mrow><annotation encoding="application/x-tex">i &lt; l_i \le n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.6986em; vertical-align: -0.0391em;"></span><span class="mord mathnormal">i</span><span class="mspace" style="margin-right: 0.2778em;"></span><span class="mrel">&lt;</span><span class="mspace" style="margin-right: 0.2778em;"></span></span><span class="base"><span class="strut" style="height: 0.8444em; vertical-align: -0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right: 0.01968em;">l</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.3117em;"><span style="top: -2.55em; margin-left: -0.0197em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right: 0.2778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right: 0.2778em;"></span></span><span class="base"><span class="strut" style="height: 0.4306em;"></span><span class="mord mathnormal">n</span></span></span></span></span> или <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>l</mi><mi>i</mi></msub><mo>=</mo><mn>0</mn></mrow><annotation encoding="application/x-tex">l_i = 0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.8444em; vertical-align: -0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right: 0.01968em;">l</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.3117em;"><span style="top: -2.55em; margin-left: -0.0197em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right: 0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.2778em;"></span></span><span class="base"><span class="strut" style="height: 0.6444em;"></span><span class="mord">0</span></span></span></span></span>, если левого ребенка нет) и
номера правого ребенка <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>i</mi></mrow><annotation encoding="application/x-tex">i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.6595em;"></span><span class="mord mathnormal">i</span></span></span></span></span>-й вершины (<span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>i</mi><mo>&lt;</mo><msub><mi>r</mi><mi>i</mi></msub><mo>≤</mo><mi>n</mi></mrow><annotation encoding="application/x-tex">i &lt; r_i \le n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.6986em; vertical-align: -0.0391em;"></span><span class="mord mathnormal">i</span><span class="mspace" style="margin-right: 0.2778em;"></span><span class="mrel">&lt;</span><span class="mspace" style="margin-right: 0.2778em;"></span></span><span class="base"><span class="strut" style="height: 0.786em; vertical-align: -0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right: 0.02778em;">r</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.3117em;"><span style="top: -2.55em; margin-left: -0.0278em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right: 0.2778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right: 0.2778em;"></span></span><span class="base"><span class="strut" style="height: 0.4306em;"></span><span class="mord mathnormal">n</span></span></span></span></span> или <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>r</mi><mi>i</mi></msub><mo>=</mo><mn>0</mn></mrow><annotation encoding="application/x-tex">r_i = 0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.5806em; vertical-align: -0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right: 0.02778em;">r</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.3117em;"><span style="top: -2.55em; margin-left: -0.0278em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right: 0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.2778em;"></span></span><span class="base"><span class="strut" style="height: 0.6444em;"></span><span class="mord">0</span></span></span></span></span>, если правого ребенка нет).</p></div><div class="task-text-block"><p class="task-category-header">Выходные данные</p><p>Выведете <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.4306em;"></span><span class="mord mathnormal">n</span></span></span></span></span> целых чисел (<span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn><mo>≤</mo><msub><mi>k</mi><mi>i</mi></msub><mo>≤</mo><mi>n</mi></mrow><annotation encoding="application/x-tex">1 \le k_i \le n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.7804em; vertical-align: -0.136em;"></span><span class="mord">1</span><span class="mspace" style="margin-right: 0.2778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right: 0.2778em;"></span></span><span class="base"><span class="strut" style="height: 0.8444em; vertical-align: -0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right: 0.03148em;">k</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.3117em;"><span style="top: -2.55em; margin-left: -0.0315em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right: 0.2778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right: 0.2778em;"></span></span><span class="base"><span class="strut" style="height: 0.4306em;"></span><span class="mord mathnormal">n</span></span></span></span></span>), разделённых пробелами: <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>k</mi><mi>i</mi></msub></mrow><annotation encoding="application/x-tex">k_i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.8444em; vertical-align: -0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right: 0.03148em;">k</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.3117em;"><span style="top: -2.55em; margin-left: -0.0315em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em;"><span></span></span></span></span></span></span></span></span></span></span> - значение в <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>i</mi></mrow><annotation encoding="application/x-tex">i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.6595em;"></span><span class="mord mathnormal">i</span></span></span></span></span>-й вершине.</p></div><div class="task-text-block"><table cellspacing="0" style="border-collapse: separate; border-spacing: 0px 12px;"><tbody><tr class="subtask-header"><td>STDIN</td><td style="padding-left: 10px;">STDOUT</td></tr><tr class="samples-item"><td class="sample-cell-scrollable"><div><pre>6
0 2
4 3
0 0
5 6
0 0
0 0</pre><button class="samples-copy-button"><svg width="18" height="18" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M2.6998 12.5998L2.80476 12.5937C3.21794 12.5458 3.54576 12.2179 3.59375 11.8048L3.5998 11.6998V3.5998H11.6998L11.8048 3.59375C12.2524 3.54176 12.5998 3.16136 12.5998 2.6998C12.5998 2.23825 12.2524 1.85785 11.8048 1.80586L11.6998 1.7998H2.6998L2.59485 1.80586C2.18167 1.85385 1.85385 2.18167 1.80586 2.59485L1.7998 2.6998V11.6998L1.80586 11.8048C1.85385 12.2179 2.18167 12.5458 2.59485 12.5937L2.6998 12.5998ZM15.2998 16.1998L15.4048 16.1937C15.8179 16.1458 16.1458 15.8179 16.1937 15.4048L16.1998 15.2998V6.2998L16.1937 6.19485C16.1498 5.8161 15.8706 5.50908 15.5062 5.42357L15.4048 5.40586L15.2998 5.3998H6.2998L6.19485 5.40586C5.78167 5.45385 5.45385 5.78167 5.40586 6.19485L5.3998 6.2998V15.2998L5.40586 15.4048C5.44985 15.7835 5.72898 16.0905 6.09344 16.176L6.19485 16.1937L6.2998 16.1998H15.2998ZM7.1998 7.1998V14.3998H14.3998V7.1998H7.1998Z"></path></svg></button></div></td><td class="sample-cell-scrollable"><div><pre>1 5 6 3 2 4</pre><button class="samples-copy-button"><svg width="18" height="18" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M2.6998 12.5998L2.80476 12.5937C3.21794 12.5458 3.54576 12.2179 3.59375 11.8048L3.5998 11.6998V3.5998H11.6998L11.8048 3.59375C12.2524 3.54176 12.5998 3.16136 12.5998 2.6998C12.5998 2.23825 12.2524 1.85785 11.8048 1.80586L11.6998 1.7998H2.6998L2.59485 1.80586C2.18167 1.85385 1.85385 2.18167 1.80586 2.59485L1.7998 2.6998V11.6998L1.80586 11.8048C1.85385 12.2179 2.18167 12.5458 2.59485 12.5937L2.6998 12.5998ZM15.2998 16.1998L15.4048 16.1937C15.8179 16.1458 16.1458 15.8179 16.1937 15.4048L16.1998 15.2998V6.2998L16.1937 6.19485C16.1498 5.8161 15.8706 5.50908 15.5062 5.42357L15.4048 5.40586L15.2998 5.3998H6.2998L6.19485 5.40586C5.78167 5.45385 5.45385 5.78167 5.40586 6.19485L5.3998 6.2998V15.2998L5.40586 15.4048C5.44985 15.7835 5.72898 16.0905 6.09344 16.176L6.19485 16.1937L6.2998 16.1998H15.2998ZM7.1998 7.1998V14.3998H14.3998V7.1998H7.1998Z"></path></svg></button></div></td></tr></tbody></table></div><div class="contest-submit-blocker">

<div class="task-content"><h2>Простое двоичное дерево поиска</h2><div class="task-text-block"><p>Реализуйте двоичное дерево поиска.</p></div><div class="task-text-block"><p class="task-category-header">Входные данные</p><p>Описание операций с деревом, количество которых не превышает 100.
В каждой строке находится одна из следующих операций:</p>
<ul>
<li><code>insert x</code> - добавить в дерево ключ <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>x</mi></mrow><annotation encoding="application/x-tex">x</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.4306em;"></span><span class="mord mathnormal">x</span></span></span></span></span>.</li>
<li><code>delete x</code> - удалить из дерева ключ <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>x</mi></mrow><annotation encoding="application/x-tex">x</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.4306em;"></span><span class="mord mathnormal">x</span></span></span></span></span>. Если ключа <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>x</mi></mrow><annotation encoding="application/x-tex">x</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.4306em;"></span><span class="mord mathnormal">x</span></span></span></span></span> в дереве нет, то ничего делать не надо.</li>
<li><code>exists x</code> - если ключ <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>x</mi></mrow><annotation encoding="application/x-tex">x</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.4306em;"></span><span class="mord mathnormal">x</span></span></span></span></span> есть в дереве, выведите <code>true</code>, если нет - <code>false</code>.</li>
<li><code>next x</code> - выведите минимальный элемент в дереве, строго больший x, или <code>none</code> если такого.
нет</li>
<li><code>prev x</code> - выведите максимальный элемент в дереве, строго меньший <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>x</mi></mrow><annotation encoding="application/x-tex">x</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.4306em;"></span><span class="mord mathnormal">x</span></span></span></span></span>, или <code>none</code>, если такого нет.</li>
</ul>
<p>В дерево помещаются и извлекаются только целые числа, не превышающие по модулю <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn><msup><mn>0</mn><mn>9</mn></msup></mrow><annotation encoding="application/x-tex">10^9</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.8141em;"></span><span class="mord">1</span><span class="mord"><span class="mord">0</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height: 0.8141em;"><span style="top: -3.063em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">9</span></span></span></span></span></span></span></span></span></span></span></span>.</p></div><div class="task-text-block"><p class="task-category-header">Выходные данные</p><p>Выведите последовательно результат выполнения всех операций <code>exists</code>, <code>next</code>, <code>prev</code>. Следуйте формату выходных данных из примера.</p></div><div class="task-text-block"><table cellspacing="0" style="border-collapse: separate; border-spacing: 0px 12px;"><tbody><tr class="subtask-header"><td>STDIN</td><td style="padding-left: 10px;">STDOUT</td></tr><tr class="samples-item"><td class="sample-cell-scrollable"><div><pre>insert 2
insert 5
insert 3
exists 2
exists 4
next 4
prev 4
delete 5
next 4
prev 4</pre><button class="samples-copy-button"><svg width="18" height="18" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M2.6998 12.5998L2.80476 12.5937C3.21794 12.5458 3.54576 12.2179 3.59375 11.8048L3.5998 11.6998V3.5998H11.6998L11.8048 3.59375C12.2524 3.54176 12.5998 3.16136 12.5998 2.6998C12.5998 2.23825 12.2524 1.85785 11.8048 1.80586L11.6998 1.7998H2.6998L2.59485 1.80586C2.18167 1.85385 1.85385 2.18167 1.80586 2.59485L1.7998 2.6998V11.6998L1.80586 11.8048C1.85385 12.2179 2.18167 12.5458 2.59485 12.5937L2.6998 12.5998ZM15.2998 16.1998L15.4048 16.1937C15.8179 16.1458 16.1458 15.8179 16.1937 15.4048L16.1998 15.2998V6.2998L16.1937 6.19485C16.1498 5.8161 15.8706 5.50908 15.5062 5.42357L15.4048 5.40586L15.2998 5.3998H6.2998L6.19485 5.40586C5.78167 5.45385 5.45385 5.78167 5.40586 6.19485L5.3998 6.2998V15.2998L5.40586 15.4048C5.44985 15.7835 5.72898 16.0905 6.09344 16.176L6.19485 16.1937L6.2998 16.1998H15.2998ZM7.1998 7.1998V14.3998H14.3998V7.1998H7.1998Z"></path></svg></button></div></td><td class="sample-cell-scrollable"><div><pre>true
false
5
3
none
3</pre><button class="samples-copy-button"><svg width="18" height="18" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M2.6998 12.5998L2.80476 12.5937C3.21794 12.5458 3.54576 12.2179 3.59375 11.8048L3.5998 11.6998V3.5998H11.6998L11.8048 3.59375C12.2524 3.54176 12.5998 3.16136 12.5998 2.6998C12.5998 2.23825 12.2524 1.85785 11.8048 1.80586L11.6998 1.7998H2.6998L2.59485 1.80586C2.18167 1.85385 1.85385 2.18167 1.80586 2.59485L1.7998 2.6998V11.6998L1.80586 11.8048C1.85385 12.2179 2.18167 12.5458 2.59485 12.5937L2.6998 12.5998ZM15.2998 16.1998L15.4048 16.1937C15.8179 16.1458 16.1458 15.8179 16.1937 15.4048L16.1998 15.2998V6.2998L16.1937 6.19485C16.1498 5.8161 15.8706 5.50908 15.5062 5.42357L15.4048 5.40586L15.2998 5.3998H6.2998L6.19485 5.40586C5.78167 5.45385 5.45385 5.78167 5.40586 6.19485L5.3998 6.2998V15.2998L5.40586 15.4048C5.44985 15.7835 5.72898 16.0905 6.09344 16.176L6.19485 16.1937L6.2998 16.1998H15.2998ZM7.1998 7.1998V14.3998H14.3998V7.1998H7.1998Z"></path></svg></button></div></td></tr></tbody></table></div><div class="task-text-block task-text-addition"><p class="task-category-header">Примечание</p><p>Необходимо написать своё бинарное дерево.</p></div><div class="contest-submit-blocker">

<div class="task-content"><h2>Три друга</h2><div class="task-text-block"><p>Три друга списывают лабораторную работу, каждый из них списывает по <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.4306em;"></span><span class="mord mathnormal">n</span></span></span></span></span> различных задач. Поскольку друзья не очень умные, они не меняют названия отправляемых на проверку файлов.</p>
<p>По истечении времени, отведенного на написание лабораторной, преподаватель запускает бан-машину и ставит баллы по следующим правилам:</p>
<ul>
<li>если задача написана только у одного студента, то этот студент получает 3 балла, поскольку эту задачу он не списывал и не давал списывать;</li>
<li>если задача списана ровно у двух студентов, то каждый из них получает по 1 утешительному баллу;</li>
<li>если задача списана всеми тремя студентами, то за нее баллы не начисляются никому.</li>
</ul>
<p>Выведите финальное количество баллов у каждого студента.</p>
<p>В рамках этой задачи будем считать, что Бан-машина считает решения списанными, если у них полностью совпадают имена файлов.</p></div><div class="task-text-block"><p class="task-category-header">Входные данные</p><p>В первой строке входных данных дается число <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.4306em;"></span><span class="mord mathnormal">n</span></span></span></span></span> (<span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn><mo>≤</mo><mi>n</mi><mo>≤</mo><mn>10000</mn></mrow><annotation encoding="application/x-tex">1 \le n \le 10000</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.7804em; vertical-align: -0.136em;"></span><span class="mord">1</span><span class="mspace" style="margin-right: 0.2778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right: 0.2778em;"></span></span><span class="base"><span class="strut" style="height: 0.7719em; vertical-align: -0.136em;"></span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right: 0.2778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right: 0.2778em;"></span></span><span class="base"><span class="strut" style="height: 0.6444em;"></span><span class="mord">10000</span></span></span></span></span>) - количество задач в лабораторной.</p>
<p>Следующие три строки содержат по <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.4306em;"></span><span class="mord mathnormal">n</span></span></span></span></span> различных слов в каждой — названия файлов с решениями, отправленных каждым из студентов.</p></div><div class="task-text-block"><p class="task-category-header">Выходные данные</p><p>Необходимо вывести 3 числа - количество баллов у первого, второго и третьего студента соответственно.</p></div><div class="task-text-block"><table cellspacing="0" style="border-collapse: separate; border-spacing: 0px 12px;"><tbody><tr class="subtask-header"><td>STDIN</td><td style="padding-left: 10px;">STDOUT</td></tr><tr class="samples-item"><td class="sample-cell-scrollable"><div><pre>3
fir sec thi
thi fir sec
aaa sec bbb</pre><button class="samples-copy-button"><svg width="18" height="18" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M2.6998 12.5998L2.80476 12.5937C3.21794 12.5458 3.54576 12.2179 3.59375 11.8048L3.5998 11.6998V3.5998H11.6998L11.8048 3.59375C12.2524 3.54176 12.5998 3.16136 12.5998 2.6998C12.5998 2.23825 12.2524 1.85785 11.8048 1.80586L11.6998 1.7998H2.6998L2.59485 1.80586C2.18167 1.85385 1.85385 2.18167 1.80586 2.59485L1.7998 2.6998V11.6998L1.80586 11.8048C1.85385 12.2179 2.18167 12.5458 2.59485 12.5937L2.6998 12.5998ZM15.2998 16.1998L15.4048 16.1937C15.8179 16.1458 16.1458 15.8179 16.1937 15.4048L16.1998 15.2998V6.2998L16.1937 6.19485C16.1498 5.8161 15.8706 5.50908 15.5062 5.42357L15.4048 5.40586L15.2998 5.3998H6.2998L6.19485 5.40586C5.78167 5.45385 5.45385 5.78167 5.40586 6.19485L5.3998 6.2998V15.2998L5.40586 15.4048C5.44985 15.7835 5.72898 16.0905 6.09344 16.176L6.19485 16.1937L6.2998 16.1998H15.2998ZM7.1998 7.1998V14.3998H14.3998V7.1998H7.1998Z"></path></svg></button></div></td><td class="sample-cell-scrollable"><div><pre>2 2 6</pre><button class="samples-copy-button"><svg width="18" height="18" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M2.6998 12.5998L2.80476 12.5937C3.21794 12.5458 3.54576 12.2179 3.59375 11.8048L3.5998 11.6998V3.5998H11.6998L11.8048 3.59375C12.2524 3.54176 12.5998 3.16136 12.5998 2.6998C12.5998 2.23825 12.2524 1.85785 11.8048 1.80586L11.6998 1.7998H2.6998L2.59485 1.80586C2.18167 1.85385 1.85385 2.18167 1.80586 2.59485L1.7998 2.6998V11.6998L1.80586 11.8048C1.85385 12.2179 2.18167 12.5458 2.59485 12.5937L2.6998 12.5998ZM15.2998 16.1998L15.4048 16.1937C15.8179 16.1458 16.1458 15.8179 16.1937 15.4048L16.1998 15.2998V6.2998L16.1937 6.19485C16.1498 5.8161 15.8706 5.50908 15.5062 5.42357L15.4048 5.40586L15.2998 5.3998H6.2998L6.19485 5.40586C5.78167 5.45385 5.45385 5.78167 5.40586 6.19485L5.3998 6.2998V15.2998L5.40586 15.4048C5.44985 15.7835 5.72898 16.0905 6.09344 16.176L6.19485 16.1937L6.2998 16.1998H15.2998ZM7.1998 7.1998V14.3998H14.3998V7.1998H7.1998Z"></path></svg></button></div></td></tr></tbody></table></div><div class="task-text-block task-text-addition"><p class="task-category-header">Примечание</p><p>Решения, написанные при помощи сортировок, бинпоиска или встроенных деревьев не засчитываются. Set, Map и т.п. - запрещены.</p>
<p>В реальности бан-машина работает намного сложнее ;)</p></div><div class="contest-submit-blocker">

<div class="task-content"><h2>Два обхода</h2><div class="task-text-block"><p>Рассмотрим два способа обойти бинарное дерево поиска:</p>
<ul>
<li>Вывести значение в текущей вершине и затем рекурсивно запустить процедуру обхода от левого и правого потомка.</li>
<li>Рекурсивно запустить процедуру обхода от левого и правого потомка и затем вывести значение в текущей вершине.</li>
</ul>
<p>Требуется по результату обхода первым способом получить результат обхода вторым способом.</p></div><div class="task-text-block"><p class="task-category-header">Входные данные</p><p>В первой строке находится число <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.4306em;"></span><span class="mord mathnormal">n</span></span></span></span></span> (<span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn><mo>≤</mo><mi>n</mi><mo>≤</mo><mn>200000</mn></mrow><annotation encoding="application/x-tex">1 \le n \le 200000</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.7804em; vertical-align: -0.136em;"></span><span class="mord">1</span><span class="mspace" style="margin-right: 0.2778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right: 0.2778em;"></span></span><span class="base"><span class="strut" style="height: 0.7719em; vertical-align: -0.136em;"></span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right: 0.2778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right: 0.2778em;"></span></span><span class="base"><span class="strut" style="height: 0.6444em;"></span><span class="mord">200000</span></span></span></span></span>) - число вершин в дереве.
Во второй строке содержится результат обхода первым способом: <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.4306em;"></span><span class="mord mathnormal">n</span></span></span></span></span> различных целых чисел <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>k</mi><mi>i</mi></msub></mrow><annotation encoding="application/x-tex">k_i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.8444em; vertical-align: -0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right: 0.03148em;">k</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.3117em;"><span style="top: -2.55em; margin-left: -0.0315em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em;"><span></span></span></span></span></span></span></span></span></span></span> (<span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn><mo>≤</mo><msub><mi>k</mi><mi>i</mi></msub><mo>≤</mo><mi>n</mi></mrow><annotation encoding="application/x-tex">1 \le k_i \le n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.7804em; vertical-align: -0.136em;"></span><span class="mord">1</span><span class="mspace" style="margin-right: 0.2778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right: 0.2778em;"></span></span><span class="base"><span class="strut" style="height: 0.8444em; vertical-align: -0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right: 0.03148em;">k</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.3117em;"><span style="top: -2.55em; margin-left: -0.0315em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right: 0.2778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right: 0.2778em;"></span></span><span class="base"><span class="strut" style="height: 0.4306em;"></span><span class="mord mathnormal">n</span></span></span></span></span>), разделённых пробелами.</p></div><div class="task-text-block"><p class="task-category-header">Выходные данные</p><p>Выведете перестановку целых чисел <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>k</mi><mi>i</mi></msub></mrow><annotation encoding="application/x-tex">k_i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.8444em; vertical-align: -0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right: 0.03148em;">k</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.3117em;"><span style="top: -2.55em; margin-left: -0.0315em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em;"><span></span></span></span></span></span></span></span></span></span></span>, разделённых пробелами - результат второго обхода.</p></div><div class="task-text-block"><table cellspacing="0" style="border-collapse: separate; border-spacing: 0px 12px;"><tbody><tr class="subtask-header"><td>STDIN</td><td style="padding-left: 10px;">STDOUT</td></tr><tr class="samples-item"><td class="sample-cell-scrollable"><div><pre>8
6 2 1 5 4 3 7 8</pre><button class="samples-copy-button"><svg width="18" height="18" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M2.6998 12.5998L2.80476 12.5937C3.21794 12.5458 3.54576 12.2179 3.59375 11.8048L3.5998 11.6998V3.5998H11.6998L11.8048 3.59375C12.2524 3.54176 12.5998 3.16136 12.5998 2.6998C12.5998 2.23825 12.2524 1.85785 11.8048 1.80586L11.6998 1.7998H2.6998L2.59485 1.80586C2.18167 1.85385 1.85385 2.18167 1.80586 2.59485L1.7998 2.6998V11.6998L1.80586 11.8048C1.85385 12.2179 2.18167 12.5458 2.59485 12.5937L2.6998 12.5998ZM15.2998 16.1998L15.4048 16.1937C15.8179 16.1458 16.1458 15.8179 16.1937 15.4048L16.1998 15.2998V6.2998L16.1937 6.19485C16.1498 5.8161 15.8706 5.50908 15.5062 5.42357L15.4048 5.40586L15.2998 5.3998H6.2998L6.19485 5.40586C5.78167 5.45385 5.45385 5.78167 5.40586 6.19485L5.3998 6.2998V15.2998L5.40586 15.4048C5.44985 15.7835 5.72898 16.0905 6.09344 16.176L6.19485 16.1937L6.2998 16.1998H15.2998ZM7.1998 7.1998V14.3998H14.3998V7.1998H7.1998Z"></path></svg></button></div></td><td class="sample-cell-scrollable"><div><pre>1 3 4 5 2 8 7 6</pre><button class="samples-copy-button"><svg width="18" height="18" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M2.6998 12.5998L2.80476 12.5937C3.21794 12.5458 3.54576 12.2179 3.59375 11.8048L3.5998 11.6998V3.5998H11.6998L11.8048 3.59375C12.2524 3.54176 12.5998 3.16136 12.5998 2.6998C12.5998 2.23825 12.2524 1.85785 11.8048 1.80586L11.6998 1.7998H2.6998L2.59485 1.80586C2.18167 1.85385 1.85385 2.18167 1.80586 2.59485L1.7998 2.6998V11.6998L1.80586 11.8048C1.85385 12.2179 2.18167 12.5458 2.59485 12.5937L2.6998 12.5998ZM15.2998 16.1998L15.4048 16.1937C15.8179 16.1458 16.1458 15.8179 16.1937 15.4048L16.1998 15.2998V6.2998L16.1937 6.19485C16.1498 5.8161 15.8706 5.50908 15.5062 5.42357L15.4048 5.40586L15.2998 5.3998H6.2998L6.19485 5.40586C5.78167 5.45385 5.45385 5.78167 5.40586 6.19485L5.3998 6.2998V15.2998L5.40586 15.4048C5.44985 15.7835 5.72898 16.0905 6.09344 16.176L6.19485 16.1937L6.2998 16.1998H15.2998ZM7.1998 7.1998V14.3998H14.3998V7.1998H7.1998Z"></path></svg></button></div></td></tr></tbody></table></div><div class="contest-submit-blocker">
